pico-8 cartridge // http://www.pico-8.com
version 42
__lua__

function _init()
    length = 0
    height = 40
    max_height = 40
    min_height = 20
    max_length = 40
    min_length = 0
    gravity = 0.015
    y_velocity = 0

end

function _update()
    if(btn(2)) then
        length = mid(min_length, length + 1.5, max_length) 
    elseif(btn(3)) then
        length = mid(min_length, length - 1.5, max_length) 
    elseif(btn(1)) then
        height = mid(min_height, height + 1.5, max_height) 
        length = mid(min_length, length + 1.5, max_length) 
    elseif(btn(0)) and length > min_length then
        height = mid(min_height, height - 1.5, max_height) 
        length = mid(min_length, length - 1.5, max_length) 
    end

    height = mid(min_height, height + y_velocity, max_height) 
    if(height != max_height) then
        y_velocity += gravity
    else 
        y_velocity = 0
    end
end

function draw_horse()
    --spr(1, 4, 48, 1, 2)
    spr(1, 4, height, 2, 2)
    for i = 0, length do
        spr(3, 12, height + 8 -i, 1, 1)
        --print(i)
    end
    
    --spr(1, 4, 48-length-7, 2, 1)
    spr(19, 12, height+1-length, 1, 1) -- Head
end

function _draw()
    --poke(0x5f2c, 3) -- 64x64
    cls()
    draw_horse()
end



__gfx__
00000000000000000000000002444000000000000000000000000000000045000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000054400000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000544440000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000500444440000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000544444000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000444444000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000444444000000000000000000000000000000000000000000000000000000000000000000
00000000022444000000000000000000000000000000000000000000400404000000000000000000000000000000000000000000000000000000000000000000
00000000224444444444400000000000000000000000000000000000000000000000000024444444444440000000000000000000000000000000000000000000
00000000244444444444400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000204444444444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000200444444440000000024040000000000000000000000000000000000002424000000000000000000000000000000000000000000000000000000000
00000000200402000402000000244f000000000000000000000000000000000000244f0000000000000000000000000000000000000000000000000000000000
000000000040200004002000022474ff00000000000000000000000000000000022474ff00000000000000000000000000000000000000000000000000000000
00000000004020000400200002444444000000000000000000000000000000000244444400000000000000000000000000000000000000000000000000000000
00000000004020000400200002444000000000000000000000000000022444002244400000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000224444444444400000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000244444444444400000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000204444444444000000000000000000000000000000000000000000000000000000024240
00000000000000000000000000000000000000000000000000000000200444444440000000000000000000000000000000000000000000000000000000244f00
000000000000000000000000000000000000000000000000000000002004020004020000000000000000000000000000000000000000000000000000022474ff
00000000000000000000000000000000000000000000000000000000004020000400200000000000000000000000000000000000000000000000000002444444
00000000000000000000000000000000000000000000000000000000004020000400200000000000000000000000000000000000000000000224440022444000
00000000000000000000000000000000000000000000000000000000004020000400200000000000000000000000000000000000000000002244444444444000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002444444444444000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002444444444444000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002044444444440000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002004444444400000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004020004020000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040200004002000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040200004002000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040200004002000
